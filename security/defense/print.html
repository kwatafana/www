<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Cyber Defense</title>
        <meta name="robots" content="noindex" />


        <!-- Custom HTML head -->

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="cyrtophora.html"><strong aria-hidden="true">1.</strong> Cyrtophora</a></li><li class="chapter-item expanded "><a href="accounts.html"><strong aria-hidden="true">2.</strong> Accounts</a></li><li class="chapter-item expanded "><a href="database.html"><strong aria-hidden="true">3.</strong> Database</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="sqlite-support.html"><strong aria-hidden="true">3.1.</strong> SQLite Support</a></li><li class="chapter-item expanded "><a href="password-hashing.html"><strong aria-hidden="true">3.2.</strong> Password-hashing</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Cyber Defense</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="cyrtophora"><a class="header" href="#cyrtophora">Cyrtophora</a></h1>
<p>Full-stack users-first web framework.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="accounts"><a class="header" href="#accounts">Accounts</a></h1>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub struct Account {
    /// The username of the user, also used as an unique identifier
    pub username: String,
    /// The password of the user
    pub password: String,
    /// The email address the user
    pub email: Option&lt;String&gt;,
}
<span class="boring">}
</span></code></pre></pre>
<h2 id="mandatory-fields"><a class="header" href="#mandatory-fields">Mandatory Fields</a></h2>
<p>An <code>Account</code> contains two mandatory fields.</p>
<h3 id="username"><a class="header" href="#username"><code>username</code></a></h3>
<p>Twitter style username, used as a unique user identifier.</p>
<ul>
<li>cannot start with a underscore (_)</li>
<li>can only contain letters, numbers, and one underscore</li>
<li>can have only one (_) underscore</li>
</ul>
<h3 id="password"><a class="header" href="#password"><code>password</code></a></h3>
<p>Users master key.</p>
<ul>
<li>should be at least 10 characters long</li>
</ul>
<h2 id="optional-fields"><a class="header" href="#optional-fields">Optional Fields</a></h2>
<h3 id="email"><a class="header" href="#email"><code>email</code></a></h3>
<p>The email address the user.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="database"><a class="header" href="#database">Database</a></h1>
<p>Cyrtophora stores structured data in a database. The following data is
is stored:</p>
<ol>
<li>Accounts</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sqlite-support"><a class="header" href="#sqlite-support">Sqlite Support</a></h1>
<p>Sqlite is supported in cyrtophora as an optional feature:</p>
<pre><code class="language-toml">cyrtophora = { path = &quot;../../cyrtophora/phora&quot;, features = [&quot;sqlite&quot;] }
</code></pre>
<p>When the sqlite feature is enabled user account data will be saved in
a sqlite database.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="password-hashing"><a class="header" href="#password-hashing">Password Hashing</a></h1>
<h2 id="why-hash"><a class="header" href="#why-hash">Why hash?</a></h2>
<p>It is only a matter of time until your server gets hacked, and
when that happens you don't want the users passwords to be leaked --
this will allow the attacker to gain access to the users resources.
Some users also use the same password across many services, your 
web-server can be the root cause of a chain of breaches.</p>
<p>A cool way to prevent this type of leak is by <strong>obfuscating</strong> the 
users password with a <a href="https://en.wikipedia.org/wiki/Hash_function"><strong>hash function</strong></a>.</p>
<p>There are lots of hash functions that can be used, but most of these 
will be a bad idea to use. For example if you use SHA-256 or other 
computationally cheap functions (hash function without a <strong>work factor</strong> 
parameter), they are vulnerable to rainbow table attacks.
Bruteforce is also possible if the password length is short/known, 
asic miners can generate 100 TeraHashes PER Second.</p>
<p>The server can increase the passwords entropy by concatenating it with
a random string aka the <strong>salt</strong>. Users can also protect themselves 
by using longer passwords.</p>
<p>The best method to use against plaintext password leaks and rainbow
table attacks is to use a <strong>Password Hash Function</strong>. Which is a hash 
function specially designed to be slow/expensive to compute even on
specialized hardware.</p>
<h2 id="scrypt-recommended"><a class="header" href="#scrypt-recommended">Scrypt [recommended]</a></h2>
<p>The <a href="https://www.tarsnap.com/scrypt.html">scrypt</a> hash function uses large amounts of memory when hashing 
making it expensive to scale to the point of reasonable bruteforce 
attacks. Secure against hardware brute-force attacks.</p>
<p>A number of cryptocurrencies use <strong>scrypt</strong> for proof of work.</p>
<p>Created by Colin Percival of <a href="https://en.wikipedia.org/wiki/Tarsnap">Tarsnap</a></p>
<h2 id="argon2d-recommended"><a class="header" href="#argon2d-recommended">Argon2d [recommended]</a></h2>
<p>The <a href="https://en.wikipedia.org/wiki/Argon2">Argon2d</a> function is 
designed to resist GPU cracking attacks. Secure against hardware 
brute-force attacks.</p>
<p>It is the winner of <a href="https://www.password-hashing.net/">Password Hashing Competition</a>.</p>
<h2 id="bcrypt"><a class="header" href="#bcrypt">Bcrypt</a></h2>
<p><a href="https://en.wikipedia.org/wiki/Bcrypt">Bcrypt</a> is based on the 
<a href="https://en.wikipedia.org/wiki/Blowfish_(cipher)">blowfish</a> cipher.</p>
<p>Vulnerable against hardware brute-force attacks.</p>
<h2 id="pbkdf2"><a class="header" href="#pbkdf2">PBKDF2</a></h2>
<p><a href="https://en.wikipedia.org/wiki/PBKDF2">PBKDF2</a> is an key derivation
function with a sliding computational cost to reduce bruteforce 
search.</p>
<p>Vulnerable against hardware brute-force attacks.</p>
<h2 id="conclusion"><a class="header" href="#conclusion">Conclusion</a></h2>
<p>A cool way to prevent password leaks is by <strong>obfuscating</strong> them
with a password hash functions which offer additional security 
against bruteforce from specialliazed hardware such as asics. If 
password hash functions are used and implemented correctly even the 
administrators of the server will not be able to read the users 
passwords especially if the server is open source and the users can
audit the code for themselves.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script type="text/javascript">
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->

        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </body>
</html>
